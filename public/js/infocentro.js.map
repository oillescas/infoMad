{"version":3,"sources":["maps.js","eventos.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"infocentro.js","sourcesContent":["(function($){\r\n    console.log(\"cargando modulo maps 3.\");\r\n    var maps = {};\r\n    maps.init = function(){\r\n\r\n        var $el = $(\"#mapDiv\");\r\n        if($el.length ==1){\r\n\r\n\r\n\r\n            var multi = $el.data('multi');\r\n            var queryDatos = $el.data('origen');\r\n            var $datos = $(queryDatos);\r\n            var centro = new Microsoft.Maps.Location(40.417062, -3.703552);\r\n            var zoom = 12;\r\n\r\n            if(!multi){\r\n                centro = new Microsoft.Maps.Location($datos.find('[itemprop=\"latitude\"]').attr('content'), $datos.find('[itemprop=\"longitude\"]').attr('content'));\r\n                zoom = 14;\r\n            }\r\n\r\n            var map = new Microsoft.Maps.Map(document.getElementById(\"mapDiv\"),\r\n            {credentials:\"AoBhurcO68zEsZnqzAYV2vZJ-mC_7CJ2ed1OndVK29akMiWNMf0EdbddQm00mqDI\",\r\n             center: centro,\r\n             enableSearchLogo: false,\r\n             showMapTypeSelector: false,\r\n             zoom: zoom\r\n            });\r\n\r\n\r\n            $datos.each(function(){\r\n                var $centro = $(this);\r\n                // Define the pushpin location\r\n                var lat = $centro.find('[itemprop=\"latitude\"]').attr('content');\r\n                var lon = $centro.find('[itemprop=\"longitude\"]').attr('content');\r\n                var loc = new Microsoft.Maps.Location(lat,lon);\r\n\r\n                // Add a pin to the map\r\n                var pin = new Microsoft.Maps.Pushpin(loc,{draggable: false});\r\n                var  pinInfobox = new Microsoft.Maps.Infobox(pin.getLocation(),\r\n                {\r\n                 description: $centro.html(),\r\n                 visible: false,\r\n                 width :300, height :200,\r\n                 offset: new Microsoft.Maps.Point(0,15)});\r\n\r\n                Microsoft.Maps.Events.addHandler(pin, 'click', displayInfobox);\r\n\r\n                // Hide the infobox when the map is moved.\r\n                Microsoft.Maps.Events.addHandler(map, 'viewchange', hideInfobox);\r\n\r\n                 function displayInfobox(e)\r\n                 {\r\n                    pinInfobox.setOptions({ visible:true });\r\n                    map.setView({center: loc, zoom: 15});\r\n                 }\r\n\r\n                 function hideInfobox(e)\r\n                 {\r\n                    //pinInfobox.setOptions({ visible: false });\r\n                 }\r\n\r\n                map.entities.push(pin);\r\n                map.entities.push(pinInfobox);\r\n            });\r\n\r\n\r\n        }\r\n    };\r\n    $(document).ready(maps.init);\r\n})(jQuery);","function init()\r\n{\r\n    $('#calendar').fullCalendar({\r\n            lang: 'es',\r\n            events: function(start, end, timezone, callback) {\r\n                console.log(arguments);\r\n                var events = [];\r\n                $(\".evento\").each(function(){\r\n                     events.push({\r\n                        id: $(this).attr(\"id\"),\r\n                        title: $(this).find('[itemprop=\"name\"]').text(),\r\n                        start: $(this).find('[itemprop=\"startDate\"]').attr(\"content\"), // will be parsed\r\n                        allDay: false,\r\n                        editable: false\r\n                    });\r\n                });\r\n                callback(events);\r\n            }\r\n    });\r\n}\r\n\r\n\r\n$(document).ready(init);"],"sourceRoot":"/source/"}